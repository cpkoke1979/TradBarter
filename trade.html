<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>TradBarter™</title>
<link rel="icon" href="static/x-icon.png" type="image/png" />
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: 'Segoe UI', sans-serif;
    background-color: #ffffff;
    color: #003366;
  }
  .top-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #e6f0fa;
    padding: 10px 20px;
    flex-wrap: wrap;
  }
  .logo-left img.logo { height: 80px; }
  .menu-toggle {
    display: none;
    flex-direction: column;
    cursor: pointer;
  }
  .menu-toggle span {
    height: 3px;
    width: 25px;
    background: #003366;
    margin: 4px 0;
    border-radius: 2px;
  }
  .nav-links {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
    align-items: center;
  }
  .nav-links a {
    text-decoration: none;
    color: #003366;
    font-weight: bold;
    font-size: 16px;
    padding: 8px 14px;
    border-radius: 6px;
  }
  .nav-links a.login-link {
    background-color: #0077cc;
    color: white;
  }
  .nav-links a.login-link:hover {
    background-color: #005fa3;
  }
  .header-container {
    background-color: #e6f0fa;
    padding: 30px 10px;
    text-align: center;
  }
  .header-container h1 {
    font-size: 32px;
    margin-bottom: 10px;
  }
  .page-content {
    max-width: 800px;
    margin: 40px auto;
    padding: 0 20px;
  }
  input, textarea, select {
    width: 100%;
    padding: 10px;
    margin: 8px 0;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 16px;
  }
  button {
    background-color: #0077cc;
    color: white;
    padding: 12px 20px;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
  }
  button:hover {
    background-color: #005fa3;
  }
  .char-counter {
    font-size: 14px;
    color: #666;
    text-align: right;
  }
  .preview-box {
    background: #f9f9f9;
    border: 1px solid #ccc;
    border-radius: 6px;
    padding: 15px;
    margin-top: 20px;
    display: none;
  }
  .checkbox-group {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 10px;
    text-align: left;
  }
  .checkbox-group label {
    display: inline-block;
    font-size: 16px;
  }
  .checkbox-group input[type="checkbox"] {
    margin-right: 10px;
  }
  footer {
    text-align: center;
    font-size: 14px;
    color: #777;
    padding: 20px 10px;
  }
</style>
<script>
  function toggleMenu() {
    const nav = document.querySelector('.nav-links');
    nav.classList.toggle('active');
  }

  function updateCharCount(el, counterId, max) {
    const count = el.value.length;
    document.getElementById(counterId).textContent = `${count}/${max}`;
  }

  function showPreview() {
    const offer = document.getElementById('offer').value;
    const value = document.getElementById('value').value;
    const want = document.getElementById('want').value;
    const category = document.getElementById('category').value;
    const location = document.getElementById('location').value;
    const description = document.getElementById('description').value;
    const privateTrade = document.getElementById('private').value === 'yes';
    const urgent = document.getElementById('urgent').value === 'yes';
    const counter = document.getElementById('counter').value === 'yes';

    document.getElementById('preview-offer').textContent = offer;
    document.getElementById('preview-value').textContent = '£' + value;
    document.getElementById('preview-want').textContent = want;
    document.getElementById('preview-category').textContent = category;
    document.getElementById('preview-location').textContent = location;
    document.getElementById('preview-description').textContent = description;
    document.getElementById('preview-extra').textContent =
      (privateTrade ? 'Private, ' : '') +
      (urgent ? 'Urgent, ' : '') +
      (counter ? 'Accepts counter-offers' : '').replace(/,\s*$/, '');

    document.getElementById('preview-box').style.display = 'block';

    const jsonOutput = {
      offer, value, want, category, location, description,
      privateTrade, urgent, counter
    };
    document.getElementById('json-output').textContent = JSON.stringify(jsonOutput, null, 2);
  }

  function previewImage() {
    const file = document.getElementById('image').files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function(e) {
        document.getElementById('image-preview').src = e.target.result;
        document.getElementById('image-preview').style.display = 'block';
      };
      reader.readAsDataURL(file);
    }
  }
</script>
</head>
<body>
<div class="top-nav">
  <div class="logo-left">
    <a href="index.html"><img src="static/tradbarter-logo.png" class="logo" alt="TradBarter Logo" /></a>
  </div>
  <div class="menu-toggle" onclick="toggleMenu()">
    <span></span><span></span><span></span>
  </div>
  <div class="nav-links">
    <a href="how-it-works.html">How it Works</a>
    <a href="browse.html">Browse</a>
    <a href="dashboard.html">Dashboard</a>
    <a href="contact.html">Contact</a>
    <a href="about-us.html">About Us</a>
    <a class="login-link" href="login.html">Login</a>
  </div>
</div>
<div class="header-container">
  <h1>Create a Trade</h1>
</div>
<div class="page-content">
  <form onsubmit="event.preventDefault(); showPreview();" style="max-width: 700px; margin: 0 auto;">
    <label for="offer">What You're Offering</label>
    <input type="text" id="offer" name="offer" required />

    <label for="value">Approximate Value</label>
    <div style="display: flex; align-items: center; gap: 6px;">
      <span>£</span>
      <input type="number" id="value" name="value" min="0" step="any" required style="flex: 1;" />
    </div>

    <label for="want">What You Want in Return</label>
    <input type="text" id="want" name="want" required />

    <label for="category">Category</label>
    <select id="category" name="category" required>
      <option value="">Select a category</option>
      <option value="item">Item</option>
      <option value="service">Service</option>
    </select>

    <label for="location">Location</label>
    <input type="text" id="location" name="location" required />

    <label for="image">Upload Image (optional)</label>
    <input type="file" id="image" name="image" accept="image/*" onchange="previewImage()" />
    <img id="image-preview" style="max-width:100%; margin-top:10px; display:none;" />

    <label for="description">Description</label>
    <textarea id="description" name="description" rows="5" maxlength="500" oninput="updateCharCount(this, 'desc-count', 500)"></textarea>
    <div class="char-counter" id="desc-count">0/500</div>

    <div class="checkbox-group" style="margin-top: 30px;">
  <h3 style="margin-bottom: 16px; color: #003366; font-size: 20px;">Trade Preferences</h3>
  <label for="private">Make this listing private</label>
  <select id="private" name="private">
    <option value="">Select...</option>
    <option value="yes">Yes</option>
    <option value="no">No</option>
  </select>

  <label for="urgent">Mark as urgent</label>
  <select id="urgent" name="urgent">
    <option value="">Select...</option>
    <option value="yes">Yes</option>
    <option value="no">No</option>
  </select>

  <label for="counter">Accept counter-offers</label>
  <select id="counter" name="counter">
    <option value="">Select...</option>
    <option value="yes">Yes</option>
    <option value="no">No</option>
  </select>
</div>
    
    
  </div>
  <button type="submit" style="margin: 30px auto 0; display: block;">Preview Listing</button>
  </form>

  <div id="preview-box" class="preview-box">
    <h3>Listing Preview</h3>
    <p><strong>Offering:</strong> <span id="preview-offer"></span></p>
    <p><strong>Value:</strong> <span id="preview-value"></span></p>
    <p><strong>Looking for:</strong> <span id="preview-want"></span></p>
    <p><strong>Category:</strong> <span id="preview-category"></span></p>
    <p><strong>Location:</strong> <span id="preview-location"></span></p>
    <p><strong>Description:</strong><br><span id="preview-description"></span></p>
    <p><strong>Tags:</strong> <span id="preview-extra"></span></p>
    <pre id="json-output" style="margin-top:20px; background:#f0f0f0; padding:10px; border-radius:6px;"></pre>
  </div>
</div>
<footer>
  © 2025 TradBarter™. All rights reserved. TradBarter™ is a registered trademark in the UK.
</footer>
